# --- Keycloak OIDC ---
quarkus.oidc.auth-server-url=${KEYCLOAK_URL:http://localhost:8082}/realms/${KEYCLOAK_REALM:tfm}
quarkus.oidc.token.issuer=${KEYCLOAK_TOKEN_ISSUER:${quarkus.oidc.auth-server-url}}
quarkus.oidc.client-id=${KEYCLOAK_CLIENT_ID:tfm-backend}
quarkus.oidc.application-type=service
quarkus.oidc.token.principal-claim=preferred_username
quarkus.http.auth.permission.authenticated.paths=/api/*
quarkus.http.auth.permission.authenticated.policy=authenticated

# # set where guacd + the demo SSH server live
# export GUACD_HOST=localhost
# export GUACD_PORT=4822
# export SSH_HOST=localhost
# export SSH_PORT=2222
# export SSH_USER=user
# export SSH_PASS=password

# # run Quarkus without attaching a debugger to avoid JDWP confusion
# mvn quarkus:dev -Ddebug=false
# # => app on http://localhost:8080   (WS at ws://localhost:8080/ws/tunnel)
# dev: localhost (host talking to containers via published ports)
%dev.app.guacd.host=localhost
%dev.app.guacd.port=4822
%dev.app.ssh.host=localhost
%dev.app.ssh.port=2222
%dev.app.ssh.user=user
%dev.app.ssh.pass=password

# prod (inside compose): service names on the Docker network
%prod.app.guacd.host=guacd
%prod.app.guacd.port=4822
%prod.app.ssh.host=sshd
%prod.app.ssh.port=2222
%prod.app.ssh.user=user
%prod.app.ssh.pass=password

# show everything you might need
quarkus.log.min-level=TRACE
quarkus.log.level=INFO

# focus on your code + Undertow WS + guacamole libs
quarkus.log.category."org.acme".level=DEBUG
quarkus.log.category."io.undertow.websockets".level=DEBUG
quarkus.log.category."org.apache.guacamole".level=DEBUG

# prettier console format with thread + logger
quarkus.log.console.format=%d{HH:mm:ss.SSS} %-5p [%t] %c - %m%n

# lab usage quotas
lab.usage.free.hours=2
lab.usage.premium.hours=10
lab.usage.period-days=30
lab.usage.premium-role=premium
lab.usage.override-premium=false
